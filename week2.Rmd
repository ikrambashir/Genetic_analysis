---
title: 'week # 2'
author: "Bashir,I. (2022)"
date: "20/03/2022"
output: html_document
---

## An R Introduction 

```{r}
1+1
```

```{r}
4-2
```

```{r}
2*3
```

```{r}
6/2
```

```{r}
2^3
```

You can solve values into variables (objects):

```{r}
a <- 1+1
a
```

```{r}
b <- 3*2
b
```

```{r}
b/a
```

We can also store characters (strings) inside a variable

```{r}
c <- "Aa"
c
```

```{r}
d <- TRUE
d
```

There are different object classes in R:

```{r}
class(a)
```

```{r}
class(b)
```

```{r}
class(c)
```

```{r}
class(d)
```

### Change a class of an object e.g:

```{r}
d <- as.numeric(d)
d
```

```{r}
class(d)
```

## Working with Vectors

The command c() is used to create vectors:

```{r}
vec1 <- c(0, -1, 1/2, 1000, 2)
vec1
```

```{r}
vec2 <- c(1:5)
vec2
```

## Select elements using square brackets:

```{r}
vec1[1]
```

## operations with vectors:

```{r}
vec1 + vec2
```

```{r}
vec2 * 3
```

## other functions to create specific vectors:

```{r}
vec3 <- seq(from = 2, to = 4, by = 0.5)
vec3
```

```{r}
vec4 <- rep(x = 1:3, times = 3)
vec4
```

```{r}
vec5 <- rep(x = 1:3, each = 3)
vec5
```

```{r}
table(vec4)
```

```{r}
rev(vec5)
```

```{r}
unique(vec5)
```

# R Environment

To see the list of elements in the environment is using the function `ls()`:

```{r}
ls()
```

```{r}
ls()[5] # this selects the fifth element
```

To remove any of the objects, we use the function `rm()`:

```{r}
rm("c") # to remove a specific object
ls()
```

```{r}
rm(list = c("a","b")) 
ls()
```

```{r}
rm(list = ls()[-4]) # to remove all expect the forth object
ls()
```

```{r}
rm(list = ls()) # remove all objects
ls()
```

## **Loading external data**

One of the functions to load external data is `read.csv()`:

```{r}
data <- read.csv(file = "data/mouse.csv", header = TRUE)
head(data)
```

```{r}
tail(data)
```

```{r}
colnames(data)
```

```{r}
dim(data)
```

```{r}
str(data)
```

To select a particular set of rows/columns, we use square brackets:

```{r}
data[c(1:3),] # first three rows
```

```{r}
data[,2] # second column
```

```{r}
data <- data[-1,]
dim(data)
```

To plot the BW phenotype:

```{r}
plot(data[,1])
```

```{r}
hist(data[,"BW"], main = "Body weight (g)", col = "yellow", xlab = "BW")
```

```{r}
boxplot(data$BW, main = "Body weight (g)")
```

### To plot information about markers:

```{r}
image(as.matrix(data[,2:15]), col = c("red", "blue"), xlab = "Individuals", ylab = "Markers", main = "Mouse data")
```

### **Math operations**

To run some math operations, we have:

```{r}
sum(data$BW)
```

```{r}
mean(data$BW)
```

To run a simple regression:

```{r}
reg1 <- lm(formula = BW ~ M1, data = data)
reg1
```

```{r}
summary(reg1)
```

A regression plot:

```{r}
plot(BW ~ M1, data = data)
abline(reg1)
```

## **Programming in R**

**We create loops in R using `for()`:**

```{r}
for(i in 2:15) {
  print(table(data[,i]))
}
```

Or using `while()`:

```{r}
i <- 2
while(i < 15) {
  print(table(data[,i]))
  i <- i+1
}
```

## **Saving our work:**

We can save our work by using `save.image()` or `save()` to be used later:

```{r}
save.image("all.RData") # saves all objects in the environment
save(reg1, file = "reg.RData") # save specific objects
```
